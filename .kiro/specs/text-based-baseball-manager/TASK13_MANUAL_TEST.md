# タスク13 手動テストガイド

## テスト実施日
2026-02-02

## テスト目的
選手・チームデータ管理システムの統合後の動作確認

## 前提条件
- アプリケーションがビルドされ、起動している
- ブラウザでlocalStorageが有効になっている
- React Router v6が正しく設定されている

## テストケース

### 1. ナビゲーションテスト

#### 1.1 メインメニューからの遷移
**手順:**
1. ブラウザで `http://localhost:5173/baseball` にアクセス
2. メインメニューが表示されることを確認
3. 「選手管理」ボタンをクリック
4. 選手管理画面に遷移することを確認
5. ブラウザの戻るボタンでメインメニューに戻る
6. 「チーム管理」ボタンをクリック
7. チーム管理画面に遷移することを確認

**期待結果:**
- ✅ メインメニューが表示される
- ✅ 「選手管理」「チーム管理」ボタンが有効になっている
- ✅ クリックで各画面に正しく遷移する
- ✅ ブラウザの戻る/進むボタンが正常に動作する

#### 1.2 直接URLアクセス
**手順:**
1. ブラウザで `http://localhost:5173/baseball/players` にアクセス
2. 選手管理画面が表示されることを確認
3. ブラウザで `http://localhost:5173/baseball/teams` にアクセス
4. チーム管理画面が表示されることを確認

**期待結果:**
- ✅ 直接URLでアクセスしても正しく画面が表示される

---

### 2. 選手管理機能テスト

#### 2.1 初期表示
**手順:**
1. 選手管理画面を開く
2. 画面のレイアウトを確認

**期待結果:**
- ✅ ヘッダーに「選手管理」と表示される
- ✅ 「新規作成」「エクスポート」「インポート」ボタンが表示される
- ✅ サイドバーにフィルター機能が表示される
- ✅ 選手一覧が表示される（初回は空）
- ✅ メッセージ「選手データがありません。新規作成してください。」が表示される

#### 2.2 選手の新規作成
**手順:**
1. 「新規作成」ボタンをクリック
2. 選手編集フォームが表示されることを確認
3. 以下の情報を入力:
   - 名前: 「テスト太郎」
   - ポジション: CF
   - 利き手（打）: 右打ち
4. 「Contact」スライダーを70に設定
5. 「HR Power」スライダーを80に設定
6. 総合評価がリアルタイムで更新されることを確認
7. 「作成」ボタンをクリック

**期待結果:**
- ✅ 編集フォームが表示される
- ✅ すべての能力値スライダーが表示される
- ✅ 総合評価が自動計算される
- ✅ 「テスト太郎を作成しました」メッセージが表示される
- ✅ 選手一覧に新しい選手が追加される

#### 2.3 テンプレート機能
**手順:**
1. 「新規作成」ボタンをクリック
2. 名前を「テンプレート選手」と入力
3. 「パワーヒッター」ボタンをクリック
4. 確認ダイアログで「OK」をクリック
5. 能力値が変更されることを確認
6. ポジションが「RF」に変更されることを確認
7. 「作成」ボタンをクリック

**期待結果:**
- ✅ テンプレート適用の確認ダイアログが表示される
- ✅ テンプレートの能力値が設定される
- ✅ HR Power: 85, Gap Power: 80になる
- ✅ 選手が正常に作成される

#### 2.4 ランダム生成
**手順:**
1. 「新規作成」ボタンをクリック
2. 名前を「ランダム選手」と入力
3. 「ランダム生成」ボタンをクリック
4. 確認ダイアログで「OK」をクリック
5. すべての能力値がランダムに設定されることを確認
6. 「作成」ボタンをクリック

**期待結果:**
- ✅ ランダム生成の確認ダイアログが表示される
- ✅ 能力値が30-80の範囲でランダムに設定される
- ✅ 選手が正常に作成される

#### 2.5 選手の編集
**手順:**
1. 選手一覧から「テスト太郎」を選択
2. 選手詳細が表示されることを確認
3. 「編集」ボタンをクリック
4. 編集フォームが表示されることを確認
5. 名前を「テスト太郎（編集済み）」に変更
6. 「Speed」を90に変更
7. 「保存」ボタンをクリック

**期待結果:**
- ✅ 選手詳細が正しく表示される
- ✅ 編集フォームに現在の値が設定されている
- ✅ 「テスト太郎（編集済み）を更新しました」メッセージが表示される
- ✅ 変更が選手詳細に反映される

#### 2.6 選手の削除
**手順:**
1. 選手一覧から「ランダム選手」を選択
2. 「削除」ボタンをクリック
3. 確認ダイアログで「OK」をクリック

**期待結果:**
- ✅ 削除確認ダイアログが表示される
- ✅ 「この操作は取り消せません」という警告が表示される
- ✅ 「ランダム選手を削除しました」メッセージが表示される
- ✅ 選手が一覧から削除される

#### 2.7 フィルタリング機能
**手順:**
1. 複数の選手を作成（P, C, CF など異なるポジション）
2. ポジションフィルターで「P」を選択
3. 投手のみが表示されることを確認
4. 検索フィールドに「テスト」と入力
5. 名前に「テスト」を含む選手のみが表示されることを確認

**期待結果:**
- ✅ ポジションフィルターが正しく動作する
- ✅ 検索フィルターが正しく動作する
- ✅ フィルター結果がリアルタイムで更新される

#### 2.8 ソート機能
**手順:**
1. 並び替えを「名前」「昇順」に設定
2. 名前順に並ぶことを確認
3. 並び替えを「総合評価」「降順」に設定
4. 総合評価が高い順に並ぶことを確認

**期待結果:**
- ✅ ソートが正しく動作する
- ✅ 昇順/降順の切り替えが正しく動作する

#### 2.9 ページネーション
**手順:**
1. 50人以上の選手を作成（ランダム生成を複数回使用）
2. ページネーション表示を確認
3. 「次へ」ボタンをクリック
4. 2ページ目に遷移することを確認
5. 「前へ」ボタンをクリック
6. 1ページ目に戻ることを確認

**期待結果:**
- ✅ 50人ごとにページ分割される
- ✅ ページ番号が表示される
- ✅ ページ遷移が正しく動作する

---

### 3. データ永続化テスト

#### 3.1 データの保存
**手順:**
1. 選手を数人作成
2. ブラウザをリロード（F5）
3. 選手管理画面を開く

**期待結果:**
- ✅ 作成した選手が保持されている
- ✅ 「○人の選手をロードしました」メッセージが表示される

#### 3.2 エクスポート機能
**手順:**
1. 「エクスポート」ボタンをクリック
2. JSONファイルがダウンロードされることを確認
3. ファイル名が `players_export_YYYY-MM-DD.json` 形式であることを確認
4. ファイルをテキストエディタで開く
5. JSON形式で選手データが保存されていることを確認

**期待結果:**
- ✅ JSONファイルがダウンロードされる
- ✅ ファイル名に日付が含まれる
- ✅ 正しいJSON形式である
- ✅ すべての選手データが含まれる

#### 3.3 インポート機能
**手順:**
1. エクスポートしたJSONファイルを用意
2. すべての選手を削除
3. 「インポート」ボタンをクリック
4. ファイル選択ダイアログで先ほどのJSONファイルを選択
5. インポート結果を確認

**期待結果:**
- ✅ ファイル選択ダイアログが表示される
- ✅ 「○人の選手をインポートしました」メッセージが表示される
- ✅ 選手データが復元される

#### 3.4 重複処理
**手順:**
1. 現在の選手データをエクスポート
2. 同じファイルを再度インポート
3. 重複した選手が「（インポート）」付きで追加されることを確認

**期待結果:**
- ✅ 重複した選手に「（インポート）」が付加される
- ✅ 元の選手と新しい選手が両方存在する

#### 3.5 バックアップ機能
**手順:**
1. 選手を数人作成
2. 「バックアップ復元」ボタンをクリック
3. 確認ダイアログが表示されることを確認
4. 「キャンセル」をクリック
5. 選手を1人削除
6. 「バックアップ復元」ボタンをクリック
7. 「OK」をクリック
8. 削除した選手が復元されることを確認

**期待結果:**
- ✅ バックアップ確認ダイアログが表示される
- ✅ 最新のバックアップから復元される
- ✅ 「バックアップから復元しました」メッセージが表示される

#### 3.6 整合性チェック
**手順:**
1. 「整合性チェック」ボタンをクリック

**期待結果:**
- ✅ 「データの整合性チェック: 問題なし」メッセージが表示される

---

### 4. チーム管理機能テスト

#### 4.1 初期表示
**手順:**
1. チーム管理画面を開く

**期待結果:**
- ✅ ヘッダーに「チーム管理」と表示される
- ✅ 「新規チーム作成」ボタンが表示される
- ✅ チーム一覧が表示される（初回は空）

#### 4.2 チームの作成
**手順:**
1. 「新規チーム作成」ボタンをクリック
2. プロンプトでチーム名「テストドラゴンズ」と入力
3. プロンプトで略称「DRA」と入力

**期待結果:**
- ✅ チーム名入力プロンプトが表示される
- ✅ 略称入力プロンプトが表示される
- ✅ 「テストドラゴンズを作成しました」メッセージが表示される
- ✅ チーム一覧に新しいチームが追加される

#### 4.3 チームの選択
**手順:**
1. チーム一覧から「テストドラゴンズ」をクリック
2. チーム詳細が表示されることを確認

**期待結果:**
- ✅ チーム詳細が表示される
- ✅ ロースターセクションが表示される
- ✅ フリーエージェントセクションが表示される

#### 4.4 チームの削除
**手順:**
1. チーム詳細で「削除」ボタンをクリック
2. 確認ダイアログで「OK」をクリック

**期待結果:**
- ✅ 削除確認ダイアログが表示される
- ✅ 「テストドラゴンズを削除しました」メッセージが表示される
- ✅ チームが一覧から削除される

---

### 5. UI/UXテスト

#### 5.1 レスポンシブデザイン
**手順:**
1. ブラウザのウィンドウサイズを変更
2. モバイルサイズ（375px）にする
3. タブレットサイズ（768px）にする
4. デスクトップサイズ（1200px）にする

**期待結果:**
- ✅ すべてのサイズで適切に表示される
- ✅ レイアウトが崩れない
- ✅ テキストが読みやすい

#### 5.2 能力値の色分け
**手順:**
1. 選手詳細を開く
2. 能力値の色分けを確認

**期待結果:**
- ✅ 90+は青色
- ✅ 70-89は緑色
- ✅ 50-69は黄色
- ✅ 30-49は橙色
- ✅ 1-29は赤色

#### 5.3 バーの表示
**手順:**
1. 選手詳細を開く
2. 能力値バーが表示されることを確認

**期待結果:**
- ✅ 各能力値にバーが表示される
- ✅ バーの長さが能力値に対応している
- ✅ バーの色が能力値評価に対応している

---

### 6. エラーハンドリングテスト

#### 6.1 無効なデータのインポート
**手順:**
1. 不正なJSON形式のファイルを用意
2. 「インポート」ボタンでそのファイルを選択

**期待結果:**
- ✅ 「ファイル形式が正しくありません」エラーが表示される
- ✅ データは変更されない

#### 6.2 必須項目の未入力
**手順:**
1. 「新規作成」ボタンをクリック
2. 名前を空欄のまま「作成」ボタンをクリック

**期待結果:**
- ✅ 「選手名を入力してください」アラートが表示される
- ✅ 選手は作成されない

#### 6.3 キャンセル操作
**手順:**
1. 「新規作成」ボタンをクリック
2. いくつかの値を入力
3. 「キャンセル」ボタンをクリック

**期待結果:**
- ✅ 編集内容が破棄される
- ✅ 選手は作成されない
- ✅ 元の画面に戻る

---

## テスト結果サマリー

### 実施日時
YYYY-MM-DD HH:MM

### テスト環境
- OS: 
- ブラウザ: 
- バージョン: 

### テスト結果

| カテゴリ | テストケース数 | 成功 | 失敗 | 備考 |
|---------|--------------|------|------|------|
| ナビゲーション | 2 | | | |
| 選手管理機能 | 9 | | | |
| データ永続化 | 6 | | | |
| チーム管理機能 | 4 | | | |
| UI/UX | 3 | | | |
| エラーハンドリング | 3 | | | |
| **合計** | **27** | | | |

### 発見された問題

#### 問題1
- **重要度**: 高/中/低
- **説明**: 
- **再現手順**: 
- **期待結果**: 
- **実際の結果**: 

#### 問題2
- **重要度**: 高/中/低
- **説明**: 
- **再現手順**: 
- **期待結果**: 
- **実際の結果**: 

### 総合評価

- [ ] すべてのテストケースが成功
- [ ] 軽微な問題があるが使用可能
- [ ] 重大な問題があり修正が必要

### 追加コメント

---

## チェックリスト

開発者による事前チェック:

- [ ] アプリケーションがビルドエラーなしでコンパイルされる
- [ ] linterエラーがない
- [ ] TypeScriptの型エラーがない
- [ ] すべての新規ファイルがgitに追加されている
- [ ] ルーティングが正しく設定されている
- [ ] インポート文が正しい

テスター用チェック:

- [ ] すべてのテストケースを実施した
- [ ] 発見された問題を記録した
- [ ] スクリーンショットを保存した（該当する場合）
- [ ] 再現手順を明確に記載した
